{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jwtDecode}from\"jwt-decode\";import{Link}from'react-router-dom';import useUserData from'./userdata';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";let userdata={};function Signin(){const[isUser,setIsUser]=useState(false);;function handleCallbackResponse(response){/*c onsole.log(response.credential); */var userObject=jwtDecode(response.credential);/*console.log(userObject); */console.log(userObject.email);fetch(\"http://localhost:5433/checkUser?email=\".concat(userObject.email))// replace with the actual email\n.then(response=>response.json())// Try parsing response as JSON\n/* if (response.ok) {\r\n          setIsUser(true); // Set state to allow the button to be clickable\r\n          localStorage.setItem('loggedIn', 'true'); // Store logged-in status in local storage\r\n          userdata = userObject;\r\n\r\n        } else {\r\n          setIsUser(false); // Set state to disable the button\r\n          localStorage.setItem('loggedIn', 'false'); // Store logged-in status in local storage\r\n        }\r\n            })\r\n  \r\n        */.then(data=>{console.log('Data:',data);if(data.token){console.log('Token:',data.token);// Log the token received\nlocalStorage.setItem('loggedIn','true');// Store logged-in status in local storage\nsessionStorage.setItem('token',data.token);// Store the token in session storage\n// Further use the token as needed\n}else{console.error('No token received');}}).catch(error=>{console.error('Error:',error);});}console.log(userdata);useEffect(()=>{const loggedInStatus=localStorage.getItem('loggedIn');setIsUser(loggedInStatus==='true');/* global google */google.accounts.id.initialize({client_id:\"822420183545-p950fdql2o6ls85egkd47gtf4a6tujcc.apps.googleusercontent.com\",callback:handleCallbackResponse});google.accounts.id.renderButton(document.getElementById(\"gbutton\"),{theme:\"outline\",size:\"large\",innerWidth:\"400px\"});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"accountc\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 pd account\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./aliaslogodarksvg.svg\",alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign in to your Alias account\"}),/*#__PURE__*/_jsx(\"div\",{id:\"gbutton\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./google.png\",alt:\"\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with Google\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"signinbeta\",children:/*#__PURE__*/_jsx(\"h6\",{children:\"By signing in, you agree to our Beta Test policy.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signinbetanew\",children:/*#__PURE__*/_jsx(Link,{to:isUser?'/home':'#',children:/*#__PURE__*/_jsx(\"button\",{disabled:!isUser,children:\"Sign in\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 bluebg\"})]})})})});}export default Signin;export{userdata};","map":{"version":3,"names":["React","useEffect","useState","jwtDecode","Link","useUserData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","userdata","Signin","isUser","setIsUser","handleCallbackResponse","response","userObject","credential","console","log","email","fetch","concat","then","json","data","token","localStorage","setItem","sessionStorage","error","catch","loggedInStatus","getItem","google","accounts","id","initialize","client_id","callback","renderButton","document","getElementById","theme","size","innerWidth","children","className","src","alt","to","disabled"],"sources":["/Users/kanshruti/Documents/GitHub/Social_Symbiote/src/componets/Signin.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport { Link } from 'react-router-dom';\r\nimport useUserData from './userdata';\r\n\r\n\r\n\r\nlet userdata = {};\r\n\r\nfunction Signin() {\r\n  const [isUser, setIsUser] = useState(false);;\r\n\r\n  \r\n  function handleCallbackResponse(response) {\r\n    /*c onsole.log(response.credential); */\r\n    var userObject = jwtDecode(response.credential);\r\n    /*console.log(userObject); */\r\n    console.log(userObject.email); \r\n\r\n    fetch(`http://localhost:5433/checkUser?email=${userObject.email}`) // replace with the actual email\r\n      .then((response) => response.json()) // Try parsing response as JSON\r\n        /* if (response.ok) {\r\n          setIsUser(true); // Set state to allow the button to be clickable\r\n          localStorage.setItem('loggedIn', 'true'); // Store logged-in status in local storage\r\n          userdata = userObject;\r\n\r\n        } else {\r\n          setIsUser(false); // Set state to disable the button\r\n          localStorage.setItem('loggedIn', 'false'); // Store logged-in status in local storage\r\n        }\r\n            })\r\n  \r\n        */\r\n\r\n      .then((data) => {\r\n        console.log('Data:', data);\r\n        if (data.token) {\r\n          console.log('Token:', data.token); // Log the token received\r\n          localStorage.setItem('loggedIn', 'true'); // Store logged-in status in local storage\r\n          sessionStorage.setItem('token', data.token); // Store the token in session storage\r\n          // Further use the token as needed\r\n        } else {\r\n          console.error('No token received');\r\n        }\r\n      })\r\n\r\n      .catch((error) => {\r\n        console.error('Error:', error);\r\n      });\r\n \r\n  \r\n  }\r\n\r\n  console.log(userdata);\r\n\r\n  useEffect(() => {\r\n\r\n    const loggedInStatus = localStorage.getItem('loggedIn');\r\n    setIsUser(loggedInStatus === 'true');\r\n\r\n    /* global google */\r\n    google.accounts.id.initialize({\r\n      client_id: \"822420183545-p950fdql2o6ls85egkd47gtf4a6tujcc.apps.googleusercontent.com\",\r\n      callback: handleCallbackResponse\r\n    })\r\n\r\n    google.accounts.id.renderButton(\r\n      document.getElementById(\"gbutton\"),\r\n      {theme: \"outline\", size: \"large\", innerWidth: \"400px\"}\r\n    )\r\n\r\n  }, []);\r\n  \r\n\r\n  return (\r\n    <>\r\n    <div className=\"container-fluid\">\r\n        <div className=\"accountc\">\r\n        \r\n        <div className=\"row\">\r\n            <div className=\"col-md-8 pd account\">\r\n            <img src=\"./aliaslogodarksvg.svg\" alt=\"\" />\r\n            <h2>Sign in to your Alias account</h2>\r\n            <div id=\"gbutton\">\r\n                <button><img src=\"./google.png\" alt=\"\" /> <span>Sign in with Google</span></button>\r\n                \r\n            </div>\r\n            \r\n            <div className=\"signinbeta\">\r\n              <h6>By signing in, you agree to our Beta Test policy.</h6>\r\n            </div>  \r\n\r\n\r\n            <div className=\"signinbetanew\">\r\n              \r\n              <Link to={isUser ? '/home' : '#'}>\r\n                <button disabled={!isUser}>Sign in</button>\r\n              </Link>  \r\n            </div>\r\n\r\n\r\n            {/* \r\n            <div className=\"or\">\r\n            <p>&nbsp; &nbsp; Or, sign up with email &nbsp; &nbsp; </p>\r\n            <div className=\"form\">\r\n              <label htmlFor=\"Full Name\">Email Address</label><br></br>\r\n              <input type=\"email\" placeholder='e.g example@company.com'/><br></br>\r\n\r\n              <label htmlFor=\"Full Name\">Password</label><br></br>\r\n              <input type=\"password\" placeholder='Set Password'/>\r\n              <div className=\"signin\">\r\n                  <button>Sign in</button>\r\n              </div>\r\n              <h6>Already have an account? Sign in</h6>\r\n            </div>\r\n\r\n            </div>\r\n            */}\r\n              </div>\r\n              <div className=\"col-md-4 bluebg\">\r\n              </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Signin;\r\nexport { userdata };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}